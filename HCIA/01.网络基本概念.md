##### 衡量网络优劣

1. 带宽：在一个时间段内，从一个点到另一个点的最大传输量
2. 延迟：数据从一个点到另一个点所经历的时间

```diff
+ 平时计算真正使用的宽带速度要除8是因为，流量单位小化为byte后，1byte=8bit
```

##### 网络结构

1. 核心层：保证数据的高速转发
2. 汇聚层：汇总接入层设备数据，部署网络策略
3. 接入层：接入终端用户

##### 双工模式

- 半双工：同一时间只能发送或接收数据
  - 冲突域：共享式网络中的信号冲突。冲突与出现在MA（多点接入）网络
  - NBMA：非广播多路访问。面临淘汰的技术，但可以作为一种网络设计，如DSVPN
  - CMSA/CD：载波侦听多路访问冲突检测技术。先听后发、边听边发、冲突停发，随即延迟后重发
- 全双工：任意时间既可接收也可发送数据



### OSI七层模型

open system interconnection 开放系统互联模型

应用层<br/>展示层<br/>会话层<br/>传输层<br/>网络层<br/>数据链路层<br/>物理层

---

#### 传输层

功能：支持不同的上层应用、建立应用间的端对端连接、为数据传输提供可靠或不可靠连接服务、定义流量控制

**TCP协议**：面向连接的可靠传输、适用于可靠性要求高的应用、开销大。

**UDP协议**：无连接的不可靠传输、适用于关注传输效率的应用、可靠性有应用层负责

```diff
+ TCP 三次握手机制：SYN 请求包 / ACK 回应包 / seq 随机数值
+ TCP 四次断开机制
+ TCP 简单确认机制
+ TCP 重传机制：发送方长时间未收到接收方发送过来的确认包时会重新发送数据包	
```

**常用服务与端口的映射**

- FTP —— 20，21 —— TCP

- TELNET ——23 —— TCP

- SMTP —— 25 —— TCP

- DNS —— 53 —— TCP、UDP

- TFTP —— 69 ——UDP

- SNMP —— 161 —— UDP

- RIP —— 520 —— UDP

#### 网络层（数据单位：IP数据包）

设备：路由器

功能：逻辑寻址、路径选择、广播控制、路由选择

#### 数据链路层（数据单位：数据帧）

设备：交换机，交换机的本质功能就是**转发数据**，交换机上的每个端口都是一个冲突域，广播包向所有端口转发

功能：**封装成帧、透明传输、差错检测**。将比特流组合成字节进一步合成数据帧，通过MAC地址访问介质，发现错误但不能纠正。数据链路层主要用于管理交换网络，也就是局域网

MAC地址：烧录在网卡中，无法更改。前 24bit 为厂商代码，后 24bit 为生产编号。MAC地址表以交换机端口对应MAC地址的方式映射

**MAC地址的分类**：

​	单播：一对一通信。DMAC的第8位固定是0

​	广播：一对所有通信。DMAC地址为全F

​	组播：一对部分通信，DMAC地址第8位固定是1

**数据帧的两种封装**：大部分数据帧使用 Ethernet Ⅱ 的标准

- IEEE802.3

- Ethernet Ⅱ

  ​          FLAG         Smac         Dmac         TYPE         DATA         FCS        
  
  FLAG：标识一个数据帧的开始
  FCS：差错校验帧
  TYPE：指定上层使用的协议，此字段为8字节，代表两百多种协议
  
  ​	0X0800 --> 上层IP协议
  ​    0X0806 --> 上层ARP协议

#### 物理层（数据单位：bit）

设备

- 网线

- 中继器：信号的放大
  
- 集线器（Hub）：所有设备在同一广播域、所有设备共享相同带宽、所有设备在同一冲突域

  - CSMA/CD（载波式侦听冲突多路访问技术）

    有人：等（监听 jam 信号）
    没人：传输数据，并向外发送 jam 信号

- 直通线：不同设备
  
- 交叉线：相同设备

功能：设备间接收或发送bit流

```diff
- bit流电信号采用二进制是因为其非正即负的简易性，如果采用十进制，有可能因为计算机对电信号强弱的误判导致整段数据出错
- OSI七层模型中，下四层每一层都有计量单位，如物理层为bit、链路层为frame、网络层为包、传输层为段，上三层同一使用PDU作为计量单位

+ ISO：国际标准化组织
+ IEEE 802.X：IEEE表示电气电子工程师学会，802表示一个标准，小数点后一位表示对网络中不同的东西进行管控
```



### TCP/IP四层模型

应用层<br/>传输层<br/>网络层<br/>网络接口层
